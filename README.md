# Модуль робота "Таракан"
-----------------------------

7 роботов данной модели использовались нами для демонстрации языка RCML на выставке в Robotics Expo II.
Каждый робот в своем составе имел:
- Arduino Mega
- Bluethooth передатчик HC-06
- Ультразвуковой дальномер HC-SR04
- Драйвер моторов L293D
- Два мотора постоянного вращения

Робот общался с ПК по Bluethooth, откуда получал команды на передвижение. 
Модуль имеет конфигурационный файл, в котором указывались адреса Bluethoth передатчика каждого робота, именно по ним определялось число доступных роботов. Выбор робота, из доступных, для выполнения очередной порции команд выполнялся случайным образом.
Так как использовались моторы постоянного вращения, то передвижение выполнялось с замером времени вращения моторов. Для этого использовались калибровочные таблицы, сопоставлявшие время и расстояние по линейному закону, данные таблицы задаются также через конфигурационный файл.

Данный модуль может служить примером для аналогичных роботов.

####Доступные функции робота:
Определение  | Описание
------------  | -----------------  
moveTo(*direction*, *distance*)  | Перемещение в зависимости от параметра *direction* (1 - вперед, 0 - назад) на указанное в параметре *distance* расстояние в сантиметрах. Функция значения не возвращает и бросает исключение, если робот встречает перед собой препятствие.
rotateTo(*direction*, *angle*)  | Вращение в зависимости от параметра *direction* (1 - направо, 0 - налево) на указанное в параметре *angle* количество градусов. Функция не возвращает значение и не бросает исключение.
moveToByTime(*direction*, *time*)  | Перемещение в зависимости от параметра *direction* (1 - вперед, 0 - назад) в течении указанного в параметре *time* количества миллисекунд. Функция значения не возвращает и бросает исключение, если робот встречает перед собой препятствие.
rotateToByTime(*direction*, *time*)  | Вращение в зависимости от параметра *direction* (1 - направо, 0 - налево) в течении указанного в параметре *time* количества миллисекунд. Функция не возвращает значение и не бросает исключение.
changeLightMode(*group*, *light*, *time*)  | Переключение работы группы световой индикации робота. Параметр *group* задает группу светодиодов: габаритные – 0, направляющие - 1. *light* - интенсивность свечения от 0 до 100 процентов. *time* - период мигания в миллисекундах.
getDistanceObstacle(*type*)  | Запрос расстояние до препятствия, принимает параметр *type* задает положение датчика: 1 - спереди или 0 - сзади.

####Доступные оси робота
Наименование  | Верхняя граница  | Нижняя граница  | Примечание
------------  | -----------------  | ------------------  | ------------------
locked  | 1  | 0  | Бинарная ось. Если её значение равно 1, то робот считается заблокированным и игнорирует изменение значений по любым другим осям.
straight  | 2  | 0  | Дискретная ось. Постоянное прямолиненое движение: значение 2 - вперед, 1 - стоп, 0 - назад.
rotation  | 2  | 0  | Дискретная ось. Постоянное вращение покруг своей оси: значение 2 - направо, 1 - стоп, 0 - налево.

####Компиляция
Для компиляции модуля потребуется библиотека [SimpleIni](https://github.com/brofield/simpleini)